import{r as u,a as _,u as N,T as R,_ as p,b as O}from"./vendor-D5iWk9qV.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerPolicy&&(r.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?r.credentials="include":e.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}})();var m={exports:{}},d={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P=u,E=Symbol.for("react.element"),w=Symbol.for("react.fragment"),A=Object.prototype.hasOwnProperty,B=P.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T={key:!0,ref:!0,__self:!0,__source:!0};function h(c,t,i){var o,e={},r=null,s=null;i!==void 0&&(r=""+i),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(s=t.ref);for(o in t)A.call(t,o)&&!T.hasOwnProperty(o)&&(e[o]=t[o]);if(c&&c.defaultProps)for(o in t=c.defaultProps,t)e[o]===void 0&&(e[o]=t[o]);return{$$typeof:E,type:c,key:r,ref:s,props:e,_owner:B.current}}d.Fragment=w;d.jsx=h;d.jsxs=h;m.exports=d;var n=m.exports,y,f=_;y=f.createRoot,f.hydrateRoot;function C(){const[c]=N();return{connected:c.connected,wallet:c.account,network:c.network}}function k(){const{connected:c,wallet:t}=C(),[i,o]=u.useState("0.00"),[e,r]=u.useState("0.00"),[s,x]=u.useState("");u.useEffect(()=>{t&&g()},[t]);const g=async()=>{try{const a=await(await fetch(`https://toncenter.com/api/v2/getAddressBalance?address=${t.account.address}`)).json();if(a.ok){const b=a.result/1e9;o(b.toFixed(2))}r("0.00")}catch(l){console.error("Error updating balances:",l)}},v=l=>{const a=l.target.value;(a===""||a>=.5&&a<=1e3)&&x(a)},j=async()=>{if(!(!c||!s))try{console.log("Buying RAP tokens..."),p.showAlert(`Buying ${s} RAP tokens...`)}catch(l){console.error("Error buying tokens:",l),p.showAlert("Error buying tokens. Please try again.")}};return n.jsx("div",{className:"container",children:n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"card-header",children:[n.jsx("h1",{children:"RAP Token Presale"}),n.jsxs("p",{className:"balance",children:["Balance: ",i," TON"]})]}),n.jsxs("div",{className:"input-group",children:[n.jsx("input",{type:"number",value:s,onChange:v,placeholder:"Enter amount (0.5 - 1000 TON)",min:"0.5",max:"1000",step:"0.1"}),n.jsx("span",{className:"currency",children:"TON"})]}),n.jsxs("div",{className:"info",children:[n.jsxs("p",{children:["You will receive: ",s||"0"," RAP"]}),n.jsx("p",{children:"Rate: 1 TON = 1 RAP"})]}),n.jsx("div",{className:"buttons",children:c?n.jsx("button",{className:"buy-button",onClick:j,disabled:!s||s<.5||s>1e3,children:"Buy RAP"}):n.jsx(R,{})})]})})}p.init();const S="https://woll2.github.io/rapgame-tgminiapp/tonconnect-manifest.json";y(document.getElementById("root")).render(n.jsx(u.StrictMode,{children:n.jsx(O,{manifestUrl:S,children:n.jsx(k,{})})}));
